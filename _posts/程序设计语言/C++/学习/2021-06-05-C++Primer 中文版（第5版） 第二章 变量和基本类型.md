---
layout: post
title:  C++Primer 中文版（第5版） 第二章 变量和基本类型
categories: C++
---

# 基本内置类型
## 算数类型
### 练习 2.1
**类型int、long、long long和short的区别是什么？无符号类型和带符号类型的区别是什么？float和double的区别是什么？**<br>
对编译器要求的最小尺寸不同（int和short相同），<br>
带符号类型用首位存储符号，<br>
float和double尺寸不同，精度不同
### 练习 2.2
**计算按揭贷款时，对于利率、本金和付款分别应选择何种数据类型？说明你的理由。**<br>
利率float,本金int，付款double。考虑到千万元精度到分，共10位，float明显不够，所以付款用16位精度的double。
## 类型转换
### 练习 2.3
**读程序，写结果。**
```c++
unsigned u = 10,u2 = 42;
std::cout<< u2-u<<std::endl; //32
std::cout<< u-u2<<std::endl; //unsigned取值上限-32

int i=10,i2 = 42;
std::cout<<i2-i<<std::endl; //32
std::cout<<i-i2<<std::endl; //-32
std::cout<<i-u<<std::endl;  //0
std::cout<<u-i<<std::endl;  //0
```
### 练习 2.4
**编写程序检查你的估计是否正确，如果不正确，请仔细研究本节知道弄明白问题所在。**<br>
```c++
#include <iostream>
using namespace std;

int main()
{
    unsigned u = 10,u2 = 42;
    std::cout<< u2-u<<std::endl; //32
    std::cout<< u-u2<<std::endl; //unsigned取值上限-32

    int i=10,i2 = 42;
    std::cout<<i2-i<<std::endl; //32
    std::cout<<i-i2<<std::endl; //-32
    std::cout<<i-u<<std::endl;  //0
    std::cout<<u-i<<std::endl;  //0
    return 0;
}
```

## 字面值常量
### 练习2.5
**指出下述字面值的数据类型并说明每一组内几种字面值的区别：**<br>
**(a) 'a',L'a',"a",L"a"**<br>
**(b) 10, 10u, 10L, 10uL, 012, 0xC**<br>
**(c) 3.14, 3.14f, 3.14L**<br>
**(d) 10, 10u, 10.,10e-2**<br>
(a) char,wchar_t,char数组，wchar_t数组 区别是数组均为2个字符<br>
(b) int,unsigned,long,unsigned long,八进制int 10，十六进制int 12<br>
(c) double,float,long double<br>
(d) int, unsigned, double,double<br>

### 练习 2.6
**下面两组定义是否有区别，如果有，请叙述之：**<br>
**int month = 9, day = 7;**<br>
**int month = 09, day = 07;**<br>
测试代码
```c++
#include <iostream>
using namespace std;

int main()
{
    int month = 09,day = 07;
    cout<<month<<endl<<day<<endl;
    return 0;
}
```
**编译输出**：error C2041: 非法的数字“9”(用于基“8”)

### 练习2.7 
**下述字面值表示何种意义？他们各自的数据类型是什么？**<br>
**(a) "Who goes with F\145rgus?\012"**<br>
**(b) 3.14e1L (c)1024f (d)3.14L**<br>

(a)字符串字面值char数组<br>
(b)long double<br>
(c)float<br>
(d)long double<br>

### 练习2.8
**请利用转义序列编写一段程序，要求先输出2M,然后转到新一行。修改程序，使其先输出2，然后输出制表符，再输出M,最后转到新一行。**
```c++
#include <iostream>
using namespace std;

int main()
{
    cout<<"\062\115\n"<<endl;
    cout<<"\062\t\115\n"<<endl;
    return 0;
}
```
# 变量
## 变量定义
### 练习 2.9 
**解释下列定义的含义。对于非法的定义，请说明错在何处并将其改正。**<br>
**(a)std::cin>> int input_value;**<br>
**(b)int i = {3.14};**<br>
**(c)double salary = wage = 9999.99;**<br>
**(d)int i=3.14;**<br>
(a)应该是涉及到表达式的运算顺序，int不能在>>操作符两侧
测试代码
```c++
#include <iostream>
using namespace std;
int main()
{
    cin>>int i;
    return 0;
}
```

**编译输出：** 2_9.cpp(5): error C2062: 意外的类型“int”<br>
(b)列表初始化导致精度丢失会使编译器报错<Br>
(c)wage未定义 double salary=9999.99,wage=salary;<br>
(d)精度丢失但允许<br>


### 练习 2.10
**下列变量的初值分别是什么？**
```c++
std::string global_str;//函数体外默认初始值为空
int global_int;//函数体外默认初始值为0
int main()
{
    int local_int;//未定义
    std::string local_str;//未定义
}
```
## 变量声明和定义的关系
### 练习 2.11 
**指出下面的语句是声明还是定义：**<br>
**(a) extern int ix = 1024;** //定义，因为有赋值<br>
**(b) int iy;** //定义，没有extern<br>
**(c) extern int iz;** //声明
## 标识符
### 练习 2.12
**请指出下面的名字中哪些是非法的？**<br>
**(a) int double = 3.14;** //double不能作为标识符<br>
**(b) int _;** //合法<br>
**(c) int catch-22;** //-不能作为标识符符号<br>
**(d) int 1_or_2 = 1;** //合法<br>
**(e) double Double = 3.14;** //合法<br>
## 名字的作用域
### 练习 2.13
**下面程序中j的值是多少？**
```c++
int i=42;
int main()
{
    int i=100;
    int j=i;    //main中i=100，所以j=100
}
```

### 练习 2.14
**下面的程序合法吗？如果合法，它将输出什么？**
```c++
int i=100,sum=0;
for(int i=0;i!=10;++i)
    sum += i;
std::cout<<i<<" "<<sum<<std::endl;
```
i=100;sum=45
# 复合类型

# const限定符

# 处理类型

# 自定义数据结构

---
> 参考 C++Primer 中文版（第5版）第二章 变量和基本类型